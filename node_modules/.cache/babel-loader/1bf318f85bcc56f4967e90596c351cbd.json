{"remainingRequest":"C:\\workspace\\kanboo_merge\\node_modules\\babel-loader\\lib\\index.js!C:\\workspace\\kanboo_merge\\node_modules\\vue-loader-v16\\dist\\templateLoader.js??ref--6!C:\\workspace\\kanboo_merge\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\workspace\\kanboo_merge\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\workspace\\kanboo_merge\\src\\components\\component\\acess\\projectDetail\\ganttChart\\Chart.vue?vue&type=template&id=35af734c&scoped=true","dependencies":[{"path":"C:\\workspace\\kanboo_merge\\src\\components\\component\\acess\\projectDetail\\ganttChart\\Chart.vue","mtime":1639211269764},{"path":"C:\\workspace\\kanboo_merge\\babel.config.js","mtime":1639120848893},{"path":"C:\\workspace\\kanboo_merge\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1639120959877},{"path":"C:\\workspace\\kanboo_merge\\node_modules\\babel-loader\\lib\\index.js","mtime":1639120954903},{"path":"C:\\workspace\\kanboo_merge\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1639121207020},{"path":"C:\\workspace\\kanboo_merge\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1639120959877},{"path":"C:\\workspace\\kanboo_merge\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1639121206860}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVuZGVyTGlzdCBhcyBfcmVuZGVyTGlzdCwgRnJhZ21lbnQgYXMgX0ZyYWdtZW50LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2ssIHRvRGlzcGxheVN0cmluZyBhcyBfdG9EaXNwbGF5U3RyaW5nLCBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZSwgbm9ybWFsaXplU3R5bGUgYXMgX25vcm1hbGl6ZVN0eWxlLCBwdXNoU2NvcGVJZCBhcyBfcHVzaFNjb3BlSWQsIHBvcFNjb3BlSWQgYXMgX3BvcFNjb3BlSWQgfSBmcm9tICJ2dWUiOwoKdmFyIF93aXRoU2NvcGVJZCA9IGZ1bmN0aW9uIF93aXRoU2NvcGVJZChuKSB7CiAgcmV0dXJuIF9wdXNoU2NvcGVJZCgiZGF0YS12LTM1YWY3MzRjIiksIG4gPSBuKCksIF9wb3BTY29wZUlkKCksIG47Cn07Cgp2YXIgX2hvaXN0ZWRfMSA9IHsKICBjbGFzczogImNoYXJ0LWNvbnRhaW5lciIKfTsKdmFyIF9ob2lzdGVkXzIgPSB7CiAgY2xhc3M6ICJjaGFydC1kYXRlIgp9Owp2YXIgX2hvaXN0ZWRfMyA9IHsKICBjbGFzczogImNoYXJ0LWJhcnMiCn07CmV4cG9ydCBmdW5jdGlvbiByZW5kZXIoX2N0eCwgX2NhY2hlLCAkcHJvcHMsICRzZXR1cCwgJGRhdGEsICRvcHRpb25zKSB7CiAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jaygiZGl2IiwgX2hvaXN0ZWRfMSwgW19jcmVhdGVFbGVtZW50Vk5vZGUoInVsIiwgX2hvaXN0ZWRfMiwgWyhfb3BlbkJsb2NrKHRydWUpLCBfY3JlYXRlRWxlbWVudEJsb2NrKF9GcmFnbWVudCwgbnVsbCwgX3JlbmRlckxpc3QoJGRhdGEuZGF0ZSwgZnVuY3Rpb24gKGRheSkgewogICAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jaygibGkiLCB7CiAgICAgIGtleTogZGF5CiAgICB9LCBfdG9EaXNwbGF5U3RyaW5nKGRheSksIDEKICAgIC8qIFRFWFQgKi8KICAgICk7CiAgfSksIDEyOAogIC8qIEtFWUVEX0ZSQUdNRU5UICovCiAgKSldKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgidWwiLCBfaG9pc3RlZF8zLCBbKF9vcGVuQmxvY2sodHJ1ZSksIF9jcmVhdGVFbGVtZW50QmxvY2soX0ZyYWdtZW50LCBudWxsLCBfcmVuZGVyTGlzdCgkZGF0YS5nYW50dERhdGEudGFza3MsIGZ1bmN0aW9uICh0YXNrKSB7CiAgICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJsaSIsIHsKICAgICAga2V5OiB0YXNrCiAgICB9LCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgic3BhbiIsIHsKICAgICAgc3R5bGU6IF9ub3JtYWxpemVTdHlsZSh7CiAgICAgICAgYmFja2dyb3VuZDogImxpbmVhci1ncmFkaWVudCIgKyAnKCcgKyAnOTBkZWcnICsgJywnICsgIiIuY29uY2F0KHRhc2suY29sb3IsICIgMCIpICsgJywnICsgIiAjZmZmICIuY29uY2F0KHRhc2sucHJvZ3Jlc3MsICIlIikgKyAnKScKICAgICAgfSkKICAgIH0sIG51bGwsIDQKICAgIC8qIFNUWUxFICovCiAgICApLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJwIiwgbnVsbCwgX3RvRGlzcGxheVN0cmluZyh0YXNrLnRpdGxlKSwgMQogICAgLyogVEVYVCAqLwogICAgKV0pOwogIH0pLCAxMjgKICAvKiBLRVlFRF9GUkFHTUVOVCAqLwogICkpXSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIHsKICAgIGNsYXNzOiAidG9kYXlMaW5lIiwKICAgIHN0eWxlOiBfbm9ybWFsaXplU3R5bGUoewogICAgICBsZWZ0OiAiIi5jb25jYXQoJGRhdGEudG9kYXlMaW5lT2Zmc2V0LCAicHgiKQogICAgfSkKICB9LCBudWxsLCA0CiAgLyogU1RZTEUgKi8KICApXSk7Cn0="},{"version":3,"sources":["C:\\workspace\\kanboo_merge\\src\\components\\component\\acess\\projectDetail\\ganttChart\\Chart.vue"],"names":[],"mappings":";;;;;;;AACO,EAAA,KAAK,EAAC;;;AACL,EAAA,KAAK,EAAC;;;AAKN,EAAA,KAAK,EAAC;;;uBANZ,mBAAA,CA0BM,KA1BN,EAAA,UAAA,EA0BM,CAzBJ,mBAAA,CAIK,IAJL,EAAA,UAAA,EAIK,E,kBAHH,mBAAA,CAEK,SAFL,EAEK,IAFL,EAEK,WAAA,CAFa,KAAA,CAAA,IAEb,EAFiB,UAAX,GAAW,EAAR;yBAAd,mBAAA,CAEK,IAFL,EAEK;AAFoB,MAAA,GAAG,EAAE;AAEzB,KAFL,EAAiC,gBAAA,CAC5B,GAD4B,CAAjC,EACQ;AAAA;AADR,K;GAEK,CAFL,E;;AAAA,GAGG,EAJL,CAyBI,EApBJ,mBAAA,CAkBK,IAlBL,EAAA,UAAA,EAkBK,E,kBAjBH,mBAAA,CAgBK,SAhBL,EAgBK,IAhBL,EAgBK,WAAA,CAhBc,KAAA,CAAA,SAAA,CAAU,KAgBxB,EAhB6B,UAAvB,IAAuB,EAAnB;yBAAf,mBAAA,CAgBK,IAhBL,EAgBK;AAhBgC,MAAA,GAAG,EAAE;AAgBrC,KAhBL,EAA8C,CAC5C,mBAAA,CAaO,MAbP,EAaO;AAZJ,MAAA,KAAK,EAAA,eAAA,CAAA;wEAA+I,IAAI,CAAC,K,gCAAuD,IAAI,CAAC,Q;AAAhN,OAAA;AAYD,KAbP,E,IAAA,E;;AAAA,KAD4C,EAe5C,mBAAA,CAAuB,GAAvB,EAAuB,IAAvB,EAAuB,gBAAA,CAAjB,IAAI,CAAC,KAAY,CAAvB,EAAgB;AAAA;AAAhB,KAf4C,CAA9C,C;GAgBK,CAhBL,E;;AAAA,GAiBG,EAlBL,CAoBI,EADJ,mBAAA,CAAwE,KAAxE,EAAwE;AAAnE,IAAA,KAAK,EAAC,WAA6D;AAAhD,IAAA,KAAK,EAAA,eAAA,CAAA;AAAA,MAAA,IAAA,YAAc,KAAA,CAAA,eAAd;AAAA,KAAA;AAA2C,GAAxE,E,IAAA,E;;AAAA,GACI,CA1BN,C","sourcesContent":["<template>\n  <div class=\"chart-container\">\n    <ul class=\"chart-date\">\n      <li v-for=\"day in date\" :key=\"day\">\n        {{ day }}\n      </li>\n    </ul>\n    <ul class=\"chart-bars\">\n      <li v-for=\"task in ganttData.tasks\" :key=\"task\">\n        <span\n          :style=\"{\n            background:\n              `linear-gradient` +\n              '(' +\n              '90deg' +\n              ',' +\n              `${task.color} 0` +\n              ',' +\n              ` #fff ${task.progress}%` +\n              ')',\n          }\"\n        >\n        </span>\n        <p>{{ task.title }}</p>\n      </li>\n    </ul>\n    <div class=\"todayLine\" :style=\"{ left : `${todayLineOffset}px` }\"></div>\n  </div>\n</template>\n\n<script>\nimport moment from \"moment\";\n\nexport default {\n  name: \"chart\",\n  data() {\n    return {\n      ganttData: this.$store.state.gantt.chart,\n      date: [],\n      month: \"\",\n      todayLineOffset : 0,\n    };\n  },\n  created() {\n    this.dateRender();\n  },\n  mounted() {\n    this.createChart();\n  },\n  updated(){\n    this.createChart();\n  },\n  methods: {\n    dateRender() {\n      let today = moment().format(\"YYYY-MM-DD\").split(\"-\");\n\n      let lastDay = new Date(today[0], today[1], 0).getDate();\n\n      for (let day = 1; day < lastDay + 1; day++) {\n        if (day < 10) {\n          day = `0${day}`;\n        }\n\n        this.date.push(`${day}`);\n      }\n    },\n    createChart() {\n      let today = moment().format(\"YYYY-MM-DD\").split(\"-\");\n\n      this.year = today[0];\n      this.month = today[1];\n\n      let days = document.querySelectorAll(\".chart-date li\");\n      let tasks = document.querySelectorAll(\".chart-bars li\");\n      days = Array.from(days);\n      tasks = Array.from(tasks);\n\n      let left = 0,\n        width = 0,\n        f_arr = [];\n\n      f_arr = days.filter((day) => day.textContent === today[2]);\n\n      this.todayLineOffset = f_arr[0].offsetLeft + 30;\n\n      tasks.forEach((el, index) => {\n\n        let start = this.ganttData.tasks[index].start;\n\n        f_arr = days.filter((day) => day.textContent === start);\n        left = f_arr[0].offsetLeft;\n\n        let end = this.ganttData.tasks[index].end;\n\n        f_arr = days.filter((day) => day.textContent === end);\n        width = f_arr[0].offsetLeft + f_arr[0].offsetWidth - left;\n\n        el.style.left = `${left}px`;\n        el.style.width = `${width}px`;\n\n        el.style.opacity = 1;\n      });\n    },\n  },\n};\n</script>\n\n<style scoped>\n.chart-container {\n  color: white;\n  height: calc(60vh - 70px);\n  border-radius: 25px;\n  background: #2C2F3B;\n  padding: 20px;\n  margin: 20px;\n  overflow-y: scroll;\n  overflow-x: hidden;\n}\n.chart-date {\n  display: flex;\n  margin: 0 0 20px 0;\n  font-weight: bold;\n  font-size: 1.2rem;\n}\n\n.chart-date li {\n  flex: 1;\n  min-width: 19px;\n  text-align: center;\n}\n\n.chart-date li:not(:last-child) {\n  position: relative;\n}\n.chart-date li:not(:last-child):before {\n  position: absolute;\n  content: \"\";\n  right: 0;\n  height: 100%;\n  border-right: 1px solid #fff;\n}\n\n.chart-bars li {\n  z-index: 5;\n  position: relative;\n  color: black;\n  margin-bottom: 15px;\n  font-size: 16px;\n  border-radius: 20px;\n  padding: 10px 20px;\n  opacity: 1;\n  height: 30px;\n  background: #eee;\n  transition: all 0.6s linear 0.2s;\n  overflow: hidden;\n  display: flex;\n  -webkit-filter: drop-shadow(0px 10px 10px rgba(10, 10, 10, 0.8));\n}\n\n.chart-bars li span {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n}\n\n.chart-bars li p {\n  position: absolute;\n  top: 15%;\n  margin-left: 15px;\n  left: 0;\n}\n\n.todayLine{\n  top : 0;\n  position: absolute;\n  height: 100%;\n  border-right: 1px solid red;\n\n}\n\n::-webkit-scrollbar {\n  width: 0px;\n}\n</style>"],"sourceRoot":""}]}