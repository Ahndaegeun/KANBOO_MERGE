{"remainingRequest":"C:\\workspace\\kanboo_merge\\node_modules\\babel-loader\\lib\\index.js!C:\\workspace\\kanboo_merge\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\workspace\\kanboo_merge\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\workspace\\kanboo_merge\\src\\components\\component\\acess\\projectDetail\\ganttChart\\Chart.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\workspace\\kanboo_merge\\src\\components\\component\\acess\\projectDetail\\ganttChart\\Chart.vue","mtime":1639211269764},{"path":"C:\\workspace\\kanboo_merge\\babel.config.js","mtime":1639120848893},{"path":"C:\\workspace\\kanboo_merge\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1639120959877},{"path":"C:\\workspace\\kanboo_merge\\node_modules\\babel-loader\\lib\\index.js","mtime":1639120954903},{"path":"C:\\workspace\\kanboo_merge\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1639120959877},{"path":"C:\\workspace\\kanboo_merge\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1639121206860}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5mcm9tLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgbW9tZW50IGZyb20gIm1vbWVudCI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiY2hhcnQiLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBnYW50dERhdGE6IHRoaXMuJHN0b3JlLnN0YXRlLmdhbnR0LmNoYXJ0LAogICAgICBkYXRlOiBbXSwKICAgICAgbW9udGg6ICIiLAogICAgICB0b2RheUxpbmVPZmZzZXQ6IDAKICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5kYXRlUmVuZGVyKCk7CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5jcmVhdGVDaGFydCgpOwogIH0sCiAgdXBkYXRlZDogZnVuY3Rpb24gdXBkYXRlZCgpIHsKICAgIHRoaXMuY3JlYXRlQ2hhcnQoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGRhdGVSZW5kZXI6IGZ1bmN0aW9uIGRhdGVSZW5kZXIoKSB7CiAgICAgIHZhciB0b2RheSA9IG1vbWVudCgpLmZvcm1hdCgiWVlZWS1NTS1ERCIpLnNwbGl0KCItIik7CiAgICAgIHZhciBsYXN0RGF5ID0gbmV3IERhdGUodG9kYXlbMF0sIHRvZGF5WzFdLCAwKS5nZXREYXRlKCk7CgogICAgICBmb3IgKHZhciBkYXkgPSAxOyBkYXkgPCBsYXN0RGF5ICsgMTsgZGF5KyspIHsKICAgICAgICBpZiAoZGF5IDwgMTApIHsKICAgICAgICAgIGRheSA9ICIwIi5jb25jYXQoZGF5KTsKICAgICAgICB9CgogICAgICAgIHRoaXMuZGF0ZS5wdXNoKCIiLmNvbmNhdChkYXkpKTsKICAgICAgfQogICAgfSwKICAgIGNyZWF0ZUNoYXJ0OiBmdW5jdGlvbiBjcmVhdGVDaGFydCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciB0b2RheSA9IG1vbWVudCgpLmZvcm1hdCgiWVlZWS1NTS1ERCIpLnNwbGl0KCItIik7CiAgICAgIHRoaXMueWVhciA9IHRvZGF5WzBdOwogICAgICB0aGlzLm1vbnRoID0gdG9kYXlbMV07CiAgICAgIHZhciBkYXlzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiLmNoYXJ0LWRhdGUgbGkiKTsKICAgICAgdmFyIHRhc2tzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiLmNoYXJ0LWJhcnMgbGkiKTsKICAgICAgZGF5cyA9IEFycmF5LmZyb20oZGF5cyk7CiAgICAgIHRhc2tzID0gQXJyYXkuZnJvbSh0YXNrcyk7CiAgICAgIHZhciBsZWZ0ID0gMCwKICAgICAgICAgIHdpZHRoID0gMCwKICAgICAgICAgIGZfYXJyID0gW107CiAgICAgIGZfYXJyID0gZGF5cy5maWx0ZXIoZnVuY3Rpb24gKGRheSkgewogICAgICAgIHJldHVybiBkYXkudGV4dENvbnRlbnQgPT09IHRvZGF5WzJdOwogICAgICB9KTsKICAgICAgdGhpcy50b2RheUxpbmVPZmZzZXQgPSBmX2FyclswXS5vZmZzZXRMZWZ0ICsgMzA7CiAgICAgIHRhc2tzLmZvckVhY2goZnVuY3Rpb24gKGVsLCBpbmRleCkgewogICAgICAgIHZhciBzdGFydCA9IF90aGlzLmdhbnR0RGF0YS50YXNrc1tpbmRleF0uc3RhcnQ7CiAgICAgICAgZl9hcnIgPSBkYXlzLmZpbHRlcihmdW5jdGlvbiAoZGF5KSB7CiAgICAgICAgICByZXR1cm4gZGF5LnRleHRDb250ZW50ID09PSBzdGFydDsKICAgICAgICB9KTsKICAgICAgICBsZWZ0ID0gZl9hcnJbMF0ub2Zmc2V0TGVmdDsKICAgICAgICB2YXIgZW5kID0gX3RoaXMuZ2FudHREYXRhLnRhc2tzW2luZGV4XS5lbmQ7CiAgICAgICAgZl9hcnIgPSBkYXlzLmZpbHRlcihmdW5jdGlvbiAoZGF5KSB7CiAgICAgICAgICByZXR1cm4gZGF5LnRleHRDb250ZW50ID09PSBlbmQ7CiAgICAgICAgfSk7CiAgICAgICAgd2lkdGggPSBmX2FyclswXS5vZmZzZXRMZWZ0ICsgZl9hcnJbMF0ub2Zmc2V0V2lkdGggLSBsZWZ0OwogICAgICAgIGVsLnN0eWxlLmxlZnQgPSAiIi5jb25jYXQobGVmdCwgInB4Iik7CiAgICAgICAgZWwuc3R5bGUud2lkdGggPSAiIi5jb25jYXQod2lkdGgsICJweCIpOwogICAgICAgIGVsLnN0eWxlLm9wYWNpdHkgPSAxOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["C:\\workspace\\kanboo_merge\\src\\components\\component\\acess\\projectDetail\\ganttChart\\Chart.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"chart-container\">\n    <ul class=\"chart-date\">\n      <li v-for=\"day in date\" :key=\"day\">\n        {{ day }}\n      </li>\n    </ul>\n    <ul class=\"chart-bars\">\n      <li v-for=\"task in ganttData.tasks\" :key=\"task\">\n        <span\n          :style=\"{\n            background:\n              `linear-gradient` +\n              '(' +\n              '90deg' +\n              ',' +\n              `${task.color} 0` +\n              ',' +\n              ` #fff ${task.progress}%` +\n              ')',\n          }\"\n        >\n        </span>\n        <p>{{ task.title }}</p>\n      </li>\n    </ul>\n    <div class=\"todayLine\" :style=\"{ left : `${todayLineOffset}px` }\"></div>\n  </div>\n</template>\n\n<script>\nimport moment from \"moment\";\n\nexport default {\n  name: \"chart\",\n  data() {\n    return {\n      ganttData: this.$store.state.gantt.chart,\n      date: [],\n      month: \"\",\n      todayLineOffset : 0,\n    };\n  },\n  created() {\n    this.dateRender();\n  },\n  mounted() {\n    this.createChart();\n  },\n  updated(){\n    this.createChart();\n  },\n  methods: {\n    dateRender() {\n      let today = moment().format(\"YYYY-MM-DD\").split(\"-\");\n\n      let lastDay = new Date(today[0], today[1], 0).getDate();\n\n      for (let day = 1; day < lastDay + 1; day++) {\n        if (day < 10) {\n          day = `0${day}`;\n        }\n\n        this.date.push(`${day}`);\n      }\n    },\n    createChart() {\n      let today = moment().format(\"YYYY-MM-DD\").split(\"-\");\n\n      this.year = today[0];\n      this.month = today[1];\n\n      let days = document.querySelectorAll(\".chart-date li\");\n      let tasks = document.querySelectorAll(\".chart-bars li\");\n      days = Array.from(days);\n      tasks = Array.from(tasks);\n\n      let left = 0,\n        width = 0,\n        f_arr = [];\n\n      f_arr = days.filter((day) => day.textContent === today[2]);\n\n      this.todayLineOffset = f_arr[0].offsetLeft + 30;\n\n      tasks.forEach((el, index) => {\n\n        let start = this.ganttData.tasks[index].start;\n\n        f_arr = days.filter((day) => day.textContent === start);\n        left = f_arr[0].offsetLeft;\n\n        let end = this.ganttData.tasks[index].end;\n\n        f_arr = days.filter((day) => day.textContent === end);\n        width = f_arr[0].offsetLeft + f_arr[0].offsetWidth - left;\n\n        el.style.left = `${left}px`;\n        el.style.width = `${width}px`;\n\n        el.style.opacity = 1;\n      });\n    },\n  },\n};\n</script>\n\n<style scoped>\n.chart-container {\n  color: white;\n  height: calc(60vh - 70px);\n  border-radius: 25px;\n  background: #2C2F3B;\n  padding: 20px;\n  margin: 20px;\n  overflow-y: scroll;\n  overflow-x: hidden;\n}\n.chart-date {\n  display: flex;\n  margin: 0 0 20px 0;\n  font-weight: bold;\n  font-size: 1.2rem;\n}\n\n.chart-date li {\n  flex: 1;\n  min-width: 19px;\n  text-align: center;\n}\n\n.chart-date li:not(:last-child) {\n  position: relative;\n}\n.chart-date li:not(:last-child):before {\n  position: absolute;\n  content: \"\";\n  right: 0;\n  height: 100%;\n  border-right: 1px solid #fff;\n}\n\n.chart-bars li {\n  z-index: 5;\n  position: relative;\n  color: black;\n  margin-bottom: 15px;\n  font-size: 16px;\n  border-radius: 20px;\n  padding: 10px 20px;\n  opacity: 1;\n  height: 30px;\n  background: #eee;\n  transition: all 0.6s linear 0.2s;\n  overflow: hidden;\n  display: flex;\n  -webkit-filter: drop-shadow(0px 10px 10px rgba(10, 10, 10, 0.8));\n}\n\n.chart-bars li span {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n}\n\n.chart-bars li p {\n  position: absolute;\n  top: 15%;\n  margin-left: 15px;\n  left: 0;\n}\n\n.todayLine{\n  top : 0;\n  position: absolute;\n  height: 100%;\n  border-right: 1px solid red;\n\n}\n\n::-webkit-scrollbar {\n  width: 0px;\n}\n</style>"],"sourceRoot":""}]}